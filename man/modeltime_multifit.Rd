% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/modeltime_multifit.R
\name{modeltime_multifit}
\alias{modeltime_multifit}
\title{Fit Multiple Models to Multiple Time Series}
\usage{
modeltime_multifit(serie, .prop, ...)
}
\arguments{
\item{serie}{nested time series.}

\item{.prop}{series train/test partition ratio.}

\item{...}{models or workflows to train (model_1, model2, ...).}
}
\value{
A list of 2 items. The first component is a tibble with a first column that contains the
name of the series, and a second column called "nested_column" that stores the time series,
then a column for each model where the trained models or workflows for each series are stored.
The last 2 columns, "nested_model" and "calibration", store the "n" trained models for each
series and the adjustment metrics on the test partition.
}
\description{
This function allows multiple models to be adjusted over multiple time series, using models
from the \href{https://business-science.github.io/modeltime/}{modeltime} package.
}
\details{
The focus of this function is not related to panel series, it is oriented to multiple individual
series. Receiving as the first argument "series" a set of nested series (for example through the
nest function), then specifying a desired train/test partition ratio for series. The
final input to the function are the models to be trained, simply by typing the name
of the models separated by commas. The function admits as many models as required.
}
\examples{

# Generate "table_time" object
## libraries
library(modeltime)
library(rsample)
library(parsnip)
library(recipes)
library(workflows)
library(dplyr)
library(tidyr)
library(sknifedatar)

## Data
emae_series <- sknifedatar::emae_series
nested_serie <- emae_series \%>\% filter(date < '2008-02-01') \%>\% nest(nested_column=-sector)

## Recipes
recipe_1 = recipe(value ~ ., data = emae_series \%>\% select(-sector)) \%>\%
  step_date(date, features = c("month", "quarter", "year"), ordinal = TRUE)

## Models
m_naive_reg <- naive_reg() \%>\%  set_engine("naive")

m_nnetar <- workflow() \%>\%
  add_model(nnetar_reg() \%>\% set_engine("nnetar")) \%>\%
  add_recipe(recipe_1)

# modeltime_multifit
model_table_emae = modeltime_multifit(serie = nested_serie \%>\% head(2),
                                      .prop = 0.8,
                                      m_naive_reg ,
                                      m_nnetar)

model_table_emae

}
\seealso{
\href{https://rafzamb.github.io/sknifedatar/}{sknifedatar website}
}
